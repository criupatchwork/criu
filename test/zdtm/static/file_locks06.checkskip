#!/usr/bin/env python2
import fcntl
import tempfile
import struct

F_OFD_SETLK = 37

try:
	with tempfile.TemporaryFile() as fd:
		flock = struct.pack('hhllhh', fcntl.F_RDLCK, 0, 0, 0, 0, 0)
		fcntl.fcntl(fd.fileno(), F_OFD_SETLK, flock)
except:
	exit(1)

exit(0)
